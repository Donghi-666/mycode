function f=fun1(t,x)
l1=1;
l2=1;
L1=20.6;
L2=8.1;
l3=11.8;
l4=10.8;
ma=0.2;
mb=0.1;
mc=0.1;
md=0.1;
g=9.8;
k1=(2*(1/6)*ma*((7/4)*l1.^2-l1*l2+l2.^2)+(1/6)*mb*(l1.^2-l1*l2+4*l2.^2)+2*l2.^2*(mc+md));
k2=0.5*l2*(mc*l3-md*l4);
k3=(0.5*ma*g*l1+mb*g*l2-2*l2*(mc+md));
k4=(1/3)*(mc+md)*((7/4)*l1.^2-l1*l2+l2.^2);
k5=0.5*(mc*l3-md*l4)*g;
f=[x(3);
     x(4);
     ((k2*k5*sin(x(2))*cos(x(1)+x(2))+k3*k4*sin(x(1))-k2*2*x(3).^2*sin(x(1)+x(2))*cos(x(1)+x(2))-k2*k4*sin(x(1)+x(2))*x(4).^2)/(k1*k4-k2*k2*cos(x(1)+x(2)).^2));
    ((k2*k3*sin(x(1))*cos(x(1)+x(2))+k1*k5*sin(x(2))-k2*2*x(4).^2*sin(x(1)+x(2))*cos(x(1)+x(2))-k2*k1*sin(x(1)+x(2))*x(3).^2)/(k1*k4-k2*k2*cos(x(1)+x(2)).^2))];
end